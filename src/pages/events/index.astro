---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PageHero from '../../components/PageHero.astro';
import { eventItems } from '../../data/events';

const sortedEvents = [...eventItems].sort(
  (a, b) => new Date(a.dateDisplay).getTime() - new Date(b.dateDisplay).getTime()
);
---

<BaseLayout title="Events | Calumet Park Memorial" description="Calumet Park events listing with yearly remembrance programs.">
  <PageHero
    eyebrow="Events"
    title="Community events and remembrance gatherings"
    description="Browse current-year event details, dates, and registration information."
    primaryCta={{ label: 'Contact Events Team', href: '/contact/' }}
    secondaryCta={{ label: 'View FAQs', href: '/faqs/' }}
  />

  <section class="section-spacing bg-white">
    <div class="container-wide">
      <h2 class="section-title">CPC Events Listing</h2>
      <p class="section-lead">Sorted by date for {new Date().getFullYear()} and upcoming seasonal programs.</p>
      <div class="mt-8 grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        {sortedEvents.map((event) => (
          <article class="card flex h-full flex-col">
            <div class="h-36 rounded-2xl bg-gradient-to-br from-calumet-100 to-slatewood-100"></div>
            <p class="mt-4 text-xs uppercase tracking-[0.18em] text-calumet-700">{event.dateDisplay}</p>
            <h3 class="mt-2 font-serif text-2xl text-slatewood-900">{event.title}</h3>
            <p class="mt-3 text-sm text-slatewood-600">{event.summary}</p>
            <a class="button-outline mt-6" href={`/${event.slug}/`}>
              View Event
            </a>
          </article>
        ))}
      </div>
    </div>
  </section>
</BaseLayout>
